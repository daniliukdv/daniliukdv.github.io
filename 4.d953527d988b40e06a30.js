(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/2RN":function(l,n,t){"use strict";t.d(n,"a",function(){return e});var e=function(){return function(){}}()},"33WF":function(l,n,t){"use strict";var e=t("CcnG"),u=t("ZYCi"),a=t("VSng"),i=t("gIcY"),o=t("Ip0R"),s=t("Fa87"),r=t("9uU2"),d=t("nciF"),c=t("Ge8E"),p=t("EjV3"),g=t("o+xu"),m=t("Ge/P"),v=t("4Vzq");t.d(n,"a",function(){return b});var f=e["\u0275crt"]({encapsulation:0,styles:[["h2[_ngcontent-%COMP%]{text-align:left}form[_ngcontent-%COMP%]{max-width:450px;width:100%;margin:0 auto}.start[_ngcontent-%COMP%]{justify-content:flex-start}.start[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]{font-family:'Myriad Pro SemiBold'}.start[_ngcontent-%COMP%]   .status.active[_ngcontent-%COMP%]{color:#00ce83}.start[_ngcontent-%COMP%]   .status.canceled[_ngcontent-%COMP%]{color:red}.start[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .suspended[_ngcontent-%COMP%]{color:#9d9d9d}.start[_ngcontent-%COMP%]   .paid[_ngcontent-%COMP%]{color:#ff8601}.border-bottom[_ngcontent-%COMP%]{padding-bottom:20px;margin-bottom:20px;border-bottom:1px solid #b0b0b0}"]],data:{}});function h(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,93,"div",[["class","white-background"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,9,"div",[["class","bordered-header header-with-buttons"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Campaigns settings"])),(l()(),e["\u0275eld"](4,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,3,"button",[["class","grey-button"],["icon","pi pi-times"],["iconPos","right"],["label","Cancel"],["pButton",""]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e["\u0275nov"](l,6).onClick()&&u),u},null,null)),e["\u0275did"](6,16384,null,0,u.l,[u.k,u.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275pad"](7,1),e["\u0275did"](8,4341760,null,0,a.ButtonDirective,[e.ElementRef],{iconPos:[0,"iconPos"],label:[1,"label"],icon:[2,"icon"]},null),(l()(),e["\u0275eld"](9,0,null,null,1,"button",[["class","orange-button"],["icon","pi pi-plus-circle"],["iconPos","right"],["label","Update"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.createUpdateCampaign()&&e),e},null,null)),e["\u0275did"](10,4341760,null,0,a.ButtonDirective,[e.ElementRef],{iconPos:[0,"iconPos"],label:[1,"label"],icon:[2,"icon"]},null),(l()(),e["\u0275eld"](11,0,null,null,82,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var u=!0;return"submit"===n&&(u=!1!==e["\u0275nov"](l,13).onSubmit(t)&&u),"reset"===n&&(u=!1!==e["\u0275nov"](l,13).onReset()&&u),u},null,null)),e["\u0275did"](12,16384,null,0,i["\u0275angular_packages_forms_forms_bh"],[],null,null),e["\u0275did"](13,540672,null,0,i.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),e["\u0275prd"](2048,null,i.ControlContainer,null,[i.FormGroupDirective]),e["\u0275did"](15,16384,null,0,i.NgControlStatusGroup,[[4,i.ControlContainer]],null,null),(l()(),e["\u0275eld"](16,0,null,null,5,"div",[["class","form-control start"]],null,null,null,null,null)),(l()(),e["\u0275eld"](17,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Created "])),(l()(),e["\u0275eld"](19,0,null,null,2,"span",[["class","created"]],null,null,null,null,null)),(l()(),e["\u0275ted"](20,null,["",""])),e["\u0275ppd"](21,2),(l()(),e["\u0275eld"](22,0,null,null,6,"div",[["class","form-control start"]],null,null,null,null,null)),(l()(),e["\u0275eld"](23,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Status "])),(l()(),e["\u0275eld"](25,0,null,null,3,"span",[["class","status"]],null,null,null,null,null)),e["\u0275did"](26,278528,null,0,o.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e["\u0275pod"](27,{active:0,canceled:1,suspended:2}),(l()(),e["\u0275ted"](28,null,[" "," "])),(l()(),e["\u0275eld"](29,0,null,null,4,"div",[["class","form-control start border-bottom"]],null,null,null,null,null)),(l()(),e["\u0275eld"](30,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Paid amount "])),(l()(),e["\u0275eld"](32,0,null,null,1,"span",[["class","paid"]],null,null,null,null,null)),(l()(),e["\u0275ted"](33,null,[" $ "," "])),(l()(),e["\u0275eld"](34,0,null,null,9,"div",[["class","form-control"]],null,null,null,null,null)),(l()(),e["\u0275eld"](35,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Campaign title"])),(l()(),e["\u0275eld"](37,0,null,null,6,"input",[["formControlName","campaign_title"],["pInputText",""],["type","text"]],[[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e["\u0275nov"](l,38).onInput(t)&&u),"input"===n&&(u=!1!==e["\u0275nov"](l,39)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e["\u0275nov"](l,39).onTouched()&&u),"compositionstart"===n&&(u=!1!==e["\u0275nov"](l,39)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e["\u0275nov"](l,39)._compositionEnd(t.target.value)&&u),u},null,null)),e["\u0275did"](38,278528,null,0,s.InputText,[e.ElementRef,[2,i.NgModel]],null,null),e["\u0275did"](39,16384,null,0,i.DefaultValueAccessor,[e.Renderer2,e.ElementRef,[2,i.COMPOSITION_BUFFER_MODE]],null,null),e["\u0275prd"](1024,null,i.NG_VALUE_ACCESSOR,function(l){return[l]},[i.DefaultValueAccessor]),e["\u0275did"](41,671744,null,0,i.FormControlName,[[3,i.ControlContainer],[8,null],[8,null],[6,i.NG_VALUE_ACCESSOR],[2,i["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),e["\u0275prd"](2048,null,i.NgControl,null,[i.FormControlName]),e["\u0275did"](43,16384,null,0,i.NgControlStatus,[[4,i.NgControl]],null,null),(l()(),e["\u0275eld"](44,0,null,null,9,"div",[["class","form-control"]],null,null,null,null,null)),(l()(),e["\u0275eld"](45,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Payment type"])),(l()(),e["\u0275eld"](47,0,null,null,6,"p-dropdown",[["formControlName","payment_type"],["placeholder","Select payment type"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,r.b,r.a)),e["\u0275did"](48,13877248,null,1,d.Dropdown,[e.ElementRef,e.Renderer2,e.ChangeDetectorRef,e.NgZone],{placeholder:[0,"placeholder"],options:[1,"options"]},null),e["\u0275qud"](603979776,1,{templates:1}),e["\u0275prd"](1024,null,i.NG_VALUE_ACCESSOR,function(l){return[l]},[d.Dropdown]),e["\u0275did"](51,671744,null,0,i.FormControlName,[[3,i.ControlContainer],[8,null],[8,null],[6,i.NG_VALUE_ACCESSOR],[2,i["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),e["\u0275prd"](2048,null,i.NgControl,null,[i.FormControlName]),e["\u0275did"](53,16384,null,0,i.NgControlStatus,[[4,i.NgControl]],null,null),(l()(),e["\u0275eld"](54,0,null,null,9,"div",[["class","form-control border-bottom"]],null,null,null,null,null)),(l()(),e["\u0275eld"](55,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Service type"])),(l()(),e["\u0275eld"](57,0,null,null,6,"p-dropdown",[["formControlName","campaign_type"],["placeholder","Select service type"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,r.b,r.a)),e["\u0275did"](58,13877248,null,1,d.Dropdown,[e.ElementRef,e.Renderer2,e.ChangeDetectorRef,e.NgZone],{placeholder:[0,"placeholder"],disabled:[1,"disabled"],options:[2,"options"]},null),e["\u0275qud"](603979776,2,{templates:1}),e["\u0275prd"](1024,null,i.NG_VALUE_ACCESSOR,function(l){return[l]},[d.Dropdown]),e["\u0275did"](61,671744,null,0,i.FormControlName,[[3,i.ControlContainer],[8,null],[8,null],[6,i.NG_VALUE_ACCESSOR],[2,i["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),e["\u0275prd"](2048,null,i.NgControl,null,[i.FormControlName]),e["\u0275did"](63,16384,null,0,i.NgControlStatus,[[4,i.NgControl]],null,null),(l()(),e["\u0275eld"](64,0,null,null,9,"div",[["class","form-control"]],null,null,null,null,null)),(l()(),e["\u0275eld"](65,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Subscription $"])),(l()(),e["\u0275eld"](67,0,null,null,6,"p-dropdown",[["formControlName","subscription_status"],["placeholder","Select Subscription"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,r.b,r.a)),e["\u0275did"](68,13877248,null,1,d.Dropdown,[e.ElementRef,e.Renderer2,e.ChangeDetectorRef,e.NgZone],{placeholder:[0,"placeholder"],disabled:[1,"disabled"],options:[2,"options"]},null),e["\u0275qud"](603979776,3,{templates:1}),e["\u0275prd"](1024,null,i.NG_VALUE_ACCESSOR,function(l){return[l]},[d.Dropdown]),e["\u0275did"](71,671744,null,0,i.FormControlName,[[3,i.ControlContainer],[8,null],[8,null],[6,i.NG_VALUE_ACCESSOR],[2,i["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),e["\u0275prd"](2048,null,i.NgControl,null,[i.FormControlName]),e["\u0275did"](73,16384,null,0,i.NgControlStatus,[[4,i.NgControl]],null,null),(l()(),e["\u0275eld"](74,0,null,null,9,"div",[["class","form-control"]],null,null,null,null,null)),(l()(),e["\u0275eld"](75,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Manager"])),(l()(),e["\u0275eld"](77,0,null,null,6,"p-dropdown",[["formControlName","manager_id"],["placeholder","Select manager"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,r.b,r.a)),e["\u0275did"](78,13877248,null,1,d.Dropdown,[e.ElementRef,e.Renderer2,e.ChangeDetectorRef,e.NgZone],{placeholder:[0,"placeholder"],disabled:[1,"disabled"],options:[2,"options"]},null),e["\u0275qud"](603979776,4,{templates:1}),e["\u0275prd"](1024,null,i.NG_VALUE_ACCESSOR,function(l){return[l]},[d.Dropdown]),e["\u0275did"](81,671744,null,0,i.FormControlName,[[3,i.ControlContainer],[8,null],[8,null],[6,i.NG_VALUE_ACCESSOR],[2,i["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),e["\u0275prd"](2048,null,i.NgControl,null,[i.FormControlName]),e["\u0275did"](83,16384,null,0,i.NgControlStatus,[[4,i.NgControl]],null,null),(l()(),e["\u0275eld"](84,0,null,null,9,"div",[["class","form-control"]],null,null,null,null,null)),(l()(),e["\u0275eld"](85,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Comment"])),(l()(),e["\u0275eld"](87,0,null,null,6,"textarea",[["formControlName","admin_comment"],["pInputText",""],["placeholder","Enter a hidden comment for this campaign. This comment is only visible to the administrator."]],[[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0;return"input"===n&&(u=!1!==e["\u0275nov"](l,88).onInput(t)&&u),"input"===n&&(u=!1!==e["\u0275nov"](l,89)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e["\u0275nov"](l,89).onTouched()&&u),"compositionstart"===n&&(u=!1!==e["\u0275nov"](l,89)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e["\u0275nov"](l,89)._compositionEnd(t.target.value)&&u),u},null,null)),e["\u0275did"](88,278528,null,0,s.InputText,[e.ElementRef,[2,i.NgModel]],null,null),e["\u0275did"](89,16384,null,0,i.DefaultValueAccessor,[e.Renderer2,e.ElementRef,[2,i.COMPOSITION_BUFFER_MODE]],null,null),e["\u0275prd"](1024,null,i.NG_VALUE_ACCESSOR,function(l){return[l]},[i.DefaultValueAccessor]),e["\u0275did"](91,671744,null,0,i.FormControlName,[[3,i.ControlContainer],[8,null],[8,null],[6,i.NG_VALUE_ACCESSOR],[2,i["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),e["\u0275prd"](2048,null,i.NgControl,null,[i.FormControlName]),e["\u0275did"](93,16384,null,0,i.NgControlStatus,[[4,i.NgControl]],null,null)],function(l,n){var t=n.component,e=l(n,7,0,"/dashboard");l(n,6,0,e),l(n,8,0,"right","Cancel","pi pi-times"),l(n,10,0,"right","Update","pi pi-plus-circle"),l(n,13,0,t.campaignForm);var u=l(n,27,0,"Active"===t.campaign.campaign_status,"Cancelled"===t.campaign.campaign_status,"Suspended"===t.campaign.campaign_status);l(n,26,0,"status",u),l(n,38,0),l(n,41,0,"campaign_title"),l(n,48,0,"Select payment type",t.paymentTypeList),l(n,51,0,"payment_type"),l(n,58,0,"Select service type",!0,t.campaignTypeList),l(n,61,0,"campaign_type",!0),l(n,68,0,"Select Subscription",!0,t.subscriptionsList),l(n,71,0,"subscription_status",!0),l(n,78,0,"Select manager",!0,t.managersList),l(n,81,0,"manager_id",!0),l(n,88,0),l(n,91,0,"admin_comment")},function(l,n){var t=n.component;l(n,9,0,t.campaignForm.invalid),l(n,11,0,e["\u0275nov"](n,15).ngClassUntouched,e["\u0275nov"](n,15).ngClassTouched,e["\u0275nov"](n,15).ngClassPristine,e["\u0275nov"](n,15).ngClassDirty,e["\u0275nov"](n,15).ngClassValid,e["\u0275nov"](n,15).ngClassInvalid,e["\u0275nov"](n,15).ngClassPending);var u=e["\u0275unv"](n,20,0,l(n,21,0,e["\u0275nov"](n.parent,0),t.campaign.created_at,"dd/MM/yyyy"));l(n,20,0,u),l(n,28,0,t.campaign.campaign_status),l(n,33,0,t.campaign.plan_amount),l(n,37,1,[!0,!0,!0,!0,e["\u0275nov"](n,38).filled,e["\u0275nov"](n,43).ngClassUntouched,e["\u0275nov"](n,43).ngClassTouched,e["\u0275nov"](n,43).ngClassPristine,e["\u0275nov"](n,43).ngClassDirty,e["\u0275nov"](n,43).ngClassValid,e["\u0275nov"](n,43).ngClassInvalid,e["\u0275nov"](n,43).ngClassPending]),l(n,47,0,e["\u0275nov"](n,48).filled,e["\u0275nov"](n,48).focused,e["\u0275nov"](n,53).ngClassUntouched,e["\u0275nov"](n,53).ngClassTouched,e["\u0275nov"](n,53).ngClassPristine,e["\u0275nov"](n,53).ngClassDirty,e["\u0275nov"](n,53).ngClassValid,e["\u0275nov"](n,53).ngClassInvalid,e["\u0275nov"](n,53).ngClassPending),l(n,57,0,e["\u0275nov"](n,58).filled,e["\u0275nov"](n,58).focused,e["\u0275nov"](n,63).ngClassUntouched,e["\u0275nov"](n,63).ngClassTouched,e["\u0275nov"](n,63).ngClassPristine,e["\u0275nov"](n,63).ngClassDirty,e["\u0275nov"](n,63).ngClassValid,e["\u0275nov"](n,63).ngClassInvalid,e["\u0275nov"](n,63).ngClassPending),l(n,67,0,e["\u0275nov"](n,68).filled,e["\u0275nov"](n,68).focused,e["\u0275nov"](n,73).ngClassUntouched,e["\u0275nov"](n,73).ngClassTouched,e["\u0275nov"](n,73).ngClassPristine,e["\u0275nov"](n,73).ngClassDirty,e["\u0275nov"](n,73).ngClassValid,e["\u0275nov"](n,73).ngClassInvalid,e["\u0275nov"](n,73).ngClassPending),l(n,77,0,e["\u0275nov"](n,78).filled,e["\u0275nov"](n,78).focused,e["\u0275nov"](n,83).ngClassUntouched,e["\u0275nov"](n,83).ngClassTouched,e["\u0275nov"](n,83).ngClassPristine,e["\u0275nov"](n,83).ngClassDirty,e["\u0275nov"](n,83).ngClassValid,e["\u0275nov"](n,83).ngClassInvalid,e["\u0275nov"](n,83).ngClassPending),l(n,87,1,[!0,!0,!0,!0,e["\u0275nov"](n,88).filled,e["\u0275nov"](n,93).ngClassUntouched,e["\u0275nov"](n,93).ngClassTouched,e["\u0275nov"](n,93).ngClassPristine,e["\u0275nov"](n,93).ngClassDirty,e["\u0275nov"](n,93).ngClassValid,e["\u0275nov"](n,93).ngClassInvalid,e["\u0275nov"](n,93).ngClassPending])})}function C(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"p-progressSpinner",[],null,null,null,c.b,c.a)),e["\u0275did"](1,49152,null,0,p.ProgressSpinner,[],null,null)],null,null)}function y(l){return e["\u0275vid"](0,[e["\u0275pid"](0,o.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275and"](16777216,null,null,1,null,h)),e["\u0275did"](2,16384,null,0,o.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,C)),e["\u0275did"](4,16384,null,0,o.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,2,0,t.campaign),l(n,4,0,t.loading)},null)}function _(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-campaign-details",[],null,null,null,y,f)),e["\u0275did"](1,114688,null,0,g.a,[i.FormBuilder,u.a,m.a,v.MessageService,u.k],null,null)],function(l,n){l(n,1,0)},null)}var b=e["\u0275ccf"]("app-campaign-details",g.a,_,{},{},[])},CMbm:function(l,n,t){"use strict";var e=t("CcnG"),u=t("ZYCi"),a=t("ioIN"),i=t("Ip0R"),o=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function s(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"div",[["style","position:relative"]],[[4,"width",null],[4,"height",null]],null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,0,"canvas",[],[[1,"width",0],[1,"height",0]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onCanvasClick(t)&&e),e},null,null))],null,function(l,n){var t=n.component;l(n,0,0,t.responsive&&!t.width?null:t.width,t.responsive&&!t.height?null:t.height),l(n,1,0,t.responsive&&!t.width?null:t.width,t.responsive&&!t.height?null:t.height)})}var r=t("Ge8E"),d=t("EjV3"),c=t("Ge/P"),p=function(){function l(l){this.dashboardService=l,this.activityList=[],this.loading=!0,this.cardList=[{title:"Active Campaigns",key:"active_campaigns",icon:"assets/images/icons/dashboard-active-customers.png",campaignType:"active"},{title:"Suspended Campaigns",key:"suspended_campaigns",icon:"assets/images/icons/dashboard-suspended-customers.png",campaignType:"suspended"},{title:"Cancelled Campaigns",key:"canceled_campaigns",icon:"assets/images/icons/dashboard-cancelled-customers.png",campaignType:"cancelled"}]}return l.prototype.ngOnInit=function(){this.getCustomersChart(),this.getActivity(),this.getCampagins()},l.prototype.getCampagins=function(){var l=this;this.dashboardService.getCampaignsStatus().subscribe(function(n){for(var t=0,e=l.cardList;t<e.length;t++){var u=e[t];u.counter=n.data[u.key],l.loading=!1}})},l.prototype.getCustomersChart=function(){var l=this;this.dashboardService.getCustomersChart().subscribe(function(n){l.setChart(n.data.reverse()),l.loading=!1})},l.prototype.setChart=function(l){for(var n=[],t=[],e=0,u=l;e<u.length;e++){var a=u[e];n.push(a.month_name),t.push(a.customers_total)}this.chart={data:{datasets:[{data:t,backgroundColor:"#fdca52",borderColor:"#fdca52"}],labels:n},options:{legend:{position:"none"},scales:{yAxes:[{ticks:{beginAtZero:!0,maintainAspectRatio:!0,stepSize:1}}]}}}},l.prototype.getActivity=function(){var l=this;this.dashboardService.getActivity().subscribe(function(n){l.activityList=n.data,l.loading=!1})},l}(),g=e["\u0275crt"]({encapsulation:0,styles:[[".role[_ngcontent-%COMP%]{text-transform:capitalize;display:flex;width:100%;justify-content:space-between}.dashboard-card[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function m(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,9,"div",[["class","dashboard-card"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e["\u0275nov"](l,1).onClick()&&u),u},null,null)),e["\u0275did"](1,16384,null,0,u.l,[u.k,u.a,[8,null],e.Renderer2,e.ElementRef],{routerLink:[0,"routerLink"]},null),e["\u0275pod"](2,{type:0}),e["\u0275pad"](3,2),(l()(),e["\u0275eld"](4,0,null,null,1,"h2",[["class","card-title"]],null,null,null,null,null)),(l()(),e["\u0275ted"](5,null,[" "," "])),(l()(),e["\u0275eld"](6,0,null,null,2,"p",[["class","card-counter"]],null,null,null,null,null)),(l()(),e["\u0275eld"](7,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),e["\u0275ted"](8,null,[" "," "])),(l()(),e["\u0275eld"](9,0,null,null,0,"p",[["class","when-updated"]],null,null,null,null,null))],function(l,n){var t=l(n,3,0,"/campaigns",l(n,2,0,n.context.$implicit.campaignType));l(n,1,0,t)},function(l,n){l(n,5,0,n.context.$implicit.title),l(n,7,0,n.context.$implicit.icon),l(n,8,0,n.context.$implicit.counter)})}function v(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","chart-wrapper"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"p-chart",[["type","bar"]],null,null,null,s,o)),e["\u0275did"](2,4374528,null,0,a.UIChart,[e.ElementRef],{type:[0,"type"],options:[1,"options"],data:[2,"data"]},null)],function(l,n){var t=n.component;l(n,2,0,"bar",t.chart.options,t.chart.data)},null)}function f(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,8,"div",[["class","activity"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,1,"p",[["class","role"]],null,null,null,null,null)),(l()(),e["\u0275ted"](3,null,[" ",": "," "])),(l()(),e["\u0275eld"](4,0,null,null,2,"p",[["class","date"]],null,null,null,null,null)),(l()(),e["\u0275ted"](5,null,[" "," "])),e["\u0275ppd"](6,2),(l()(),e["\u0275eld"](7,0,null,null,1,"p",[["class","description"]],null,null,null,null,null)),(l()(),e["\u0275ted"](8,null,[" "," "]))],null,function(l,n){l(n,3,0,n.context.$implicit.customer_level,n.context.$implicit.customer_name);var t=e["\u0275unv"](n,5,0,l(n,6,0,e["\u0275nov"](n.parent,0),n.context.$implicit.activity_date,"medium"));l(n,5,0,t),l(n,8,0,n.context.$implicit.activity_description)})}function h(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"p-progressSpinner",[],null,null,null,r.b,r.a)),e["\u0275did"](1,49152,null,0,d.ProgressSpinner,[],null,null)],null,null)}function C(l){return e["\u0275vid"](0,[e["\u0275pid"](0,i.DatePipe,[e.LOCALE_ID]),(l()(),e["\u0275eld"](1,0,null,null,2,"div",[["class","dashboard-cards-wrapper"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,m)),e["\u0275did"](3,278528,null,0,i.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275eld"](4,0,null,null,15,"div",[["class","dashboard-details-wrapper"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,6,"div",[["class","white-background new-customers"]],null,null,null,null,null)),(l()(),e["\u0275eld"](6,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["New customers"])),(l()(),e["\u0275and"](16777216,null,null,1,null,v)),e["\u0275did"](9,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](10,0,null,null,1,"p",[["class","last-updated"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Total "])),(l()(),e["\u0275eld"](12,0,null,null,7,"div",[["class","white-background activities"]],null,null,null,null,null)),(l()(),e["\u0275eld"](13,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Last activities"])),(l()(),e["\u0275eld"](15,0,null,null,2,"div",[["class","activity-list"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,f)),e["\u0275did"](17,278528,null,0,i.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275eld"](18,0,null,null,1,"p",[["class","last-updated"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Total "])),(l()(),e["\u0275and"](16777216,null,null,1,null,h)),e["\u0275did"](21,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,3,0,t.cardList),l(n,9,0,t.chart),l(n,17,0,t.activityList),l(n,21,0,t.loading)},null)}var y=t("o8w/"),_=t("ofeg"),b=t("oygf"),S=t("f4AX"),I=function(){function l(l,n){this.dashboardService=l,this.userService=n,this.loading=!0,this.cardList=[{title:"Google Ads campaings",counter:"01",key:"google_campaigns_total",icon:"assets/images/icons/dashboard-active-customers.png"},{title:"Facebook campaings",key:"facebook_campaigns_total",counter:"02"},{title:"Call Rail campaings",key:"call_campaigns_total",counter:"01"}],this.campaignsCols=[{header:"Campaign Title",field:"campaign_title"},{header:"Created",field:"created_at"},{header:"Type",field:"campaign_type"},{header:"Status",field:"campaign_status"}],this.lastPaymentsCols=[{header:"Service",field:"campaign_type"},{header:"Date of payment",field:"created_at"},{header:"Payment type",field:"payment_type"},{header:"Amount",field:"amount"},{header:"Status",field:"invoice_status"}]}return l.prototype.ngOnInit=function(){this.getCampaigns(),this.getInvoices(),this.getUserCampaigns()},l.prototype.getCampaigns=function(){var l=this;this.dashboardService.getCampaigns().subscribe(function(n){for(var t=0,e=l.cardList;t<e.length;t++){var u=e[t];u.counter=n.data[u.key],l.loading=!1}})},l.prototype.getInvoices=function(){var l=this;this.dashboardService.getUserInvoices(this.userService.user.id).subscribe(function(n){n.data.forEach(function(l){l.created_at=l.payment_date,l.campaign_type=l.campaign_type+". ID: "+l.campaign_id,"standard"===l.campaign_type&&(l.campaign_type="Google"),"standard"===l.payment_type&&(l.payment_type="Invoice"),l.invoice_status=1===l.invoice_status?"Active":"Overdue"}),l.paymentsList=n.data,l.loading=!1})},l.prototype.getUserCampaigns=function(){var l=this;this.dashboardService.getUserCampaigns(this.userService.user.id).subscribe(function(n){for(var t=0,e=n.data;t<e.length;t++){var u=e[t];1===u.campaign_status?u.campaign_status="Active":3===u.campaign_status?u.campaign_status="Disabled":2===u.campaign_status&&(u.campaign_status="Suspended"),"standard"!==u.campaign_type&&"google"!==u.campaign_type||(u.campaign_type="Google Ads"),"facebook"===u.campaign_type&&(u.campaign_type="Facebook Ads"),"call_rails"===u.campaign_type&&(u.campaign_type="Call Rail Ads")}l.campaignsList=n.data,l.loading=!1})},l}(),R=e["\u0275crt"]({encapsulation:0,styles:[["app-datatable[_ngcontent-%COMP%]{margin-bottom:25px;display:block}"]],data:{}});function w(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Comfort Plan - $250/month "])),(l()(),e["\u0275eld"](2,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Ad Spend: $10/day "]))],null,null)}function N(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,8,"div",[["class","dashboard-card"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,w)),e["\u0275did"](2,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](3,0,null,null,1,"h2",[["class","card-title"]],null,null,null,null,null)),(l()(),e["\u0275ted"](4,null,[" "," "])),(l()(),e["\u0275eld"](5,0,null,null,1,"p",[["class","card-counter"]],null,null,null,null,null)),(l()(),e["\u0275ted"](6,null,[" "," "])),(l()(),e["\u0275eld"](7,0,null,null,1,"p",[["class","when-updated"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,[" Last week "]))],function(l,n){l(n,2,0,"facebook_campaigns_total"===n.context.$implicit.key)},function(l,n){l(n,4,0,n.context.$implicit.title),l(n,6,0,n.context.$implicit.counter)})}function E(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"p-progressSpinner",[],null,null,null,r.b,r.a)),e["\u0275did"](1,49152,null,0,d.ProgressSpinner,[],null,null)],null,null)}function O(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","dashboard-cards-wrapper"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,N)),e["\u0275did"](2,278528,null,0,i.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275eld"](3,0,null,null,8,"div",[["class","white-background"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Campaigns List"])),(l()(),e["\u0275eld"](6,0,null,null,1,"app-datatable",[],null,null,null,y.b,y.a)),e["\u0275did"](7,114688,null,0,_.a,[b.ConfirmationService],{cols:[0,"cols"],data:[1,"data"],openable:[2,"openable"]},null),(l()(),e["\u0275eld"](8,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Last payments"])),(l()(),e["\u0275eld"](10,0,null,null,1,"app-datatable",[],null,null,null,y.b,y.a)),e["\u0275did"](11,114688,null,0,_.a,[b.ConfirmationService],{cols:[0,"cols"],data:[1,"data"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,E)),e["\u0275did"](13,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,2,0,t.cardList),l(n,7,0,t.campaignsCols,t.campaignsList,!0),l(n,11,0,t.lastPaymentsCols,t.paymentsList),l(n,13,0,t.loading)},null)}var k=t("qviu");t.d(n,"a",function(){return F});var P=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function A(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-dashboard-admin",[],null,null,null,C,g)),e["\u0275did"](1,114688,null,0,p,[c.a],null,null)],function(l,n){l(n,1,0)},null)}function V(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"client-dashboard",[],null,null,null,O,R)),e["\u0275did"](1,114688,null,0,I,[c.a,S.a],null,null)],function(l,n){l(n,1,0)},null)}function D(l){return e["\u0275vid"](0,[(l()(),e["\u0275and"](16777216,null,null,1,null,A)),e["\u0275did"](1,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,V)),e["\u0275did"](3,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,1,0,"admin"===t.user.role||"manager"===t.user.role),l(n,3,0,"customer"===t.user.role)},null)}function T(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-dashboard",[],null,null,null,D,P)),e["\u0275did"](1,114688,null,0,k.a,[S.a],null,null)],function(l,n){l(n,1,0)},null)}var F=e["\u0275ccf"]("app-dashboard",k.a,T,{},{},[])},FgYR:function(l,n,t){"use strict";t.d(n,"a",function(){return e});var e=function(){return function(){}}()},"Ge/P":function(l,n,t){"use strict";t.d(n,"a",function(){return e}),t("qc5V");var e=function(){function l(l){this.apiService=l}return l.prototype.getCustomers=function(){return this.apiService.request("GET","dashboard/customers",{})},l.prototype.getCampaignsStatus=function(){return this.apiService.request("GET","dashboard/campaignsStatus",{})},l.prototype.getCustomersChart=function(){return this.apiService.request("GET","dashboard/dynamics",{})},l.prototype.getActivity=function(){return this.apiService.request("GET","activities?offset=0&limit=5",{})},l.prototype.getCampaigns=function(){return this.apiService.request("GET","dashboard/campaigns",{})},l.prototype.getCampaign=function(l){return this.apiService.request("GET","campaigns/"+l,{})},l.prototype.getUserCampaigns=function(l){return this.apiService.request("GET","campaigns?offset=0&limit=5&"+l,{})},l.prototype.getUserInvoices=function(l){return this.apiService.request("GET","invoices?offset=0&limit=2&customer_id="+l,{})},l.prototype.updateCampaign=function(l,n){return l._method="patch",this.apiService.request("POST","campaigns/"+n,l)},l}()},"ea/W":function(l,n,t){"use strict";t.d(n,"a",function(){return e}),t("qviu"),t("o+xu");var e=(t("FgYR"),function(){return function(){}}())},ioIN:function(l,n,t){var e=t("mrSG").__decorate,u=t("mrSG").__metadata;Object.defineProperty(n,"__esModule",{value:!0});var a=t("CcnG"),i=t("Ip0R"),o=function(){function l(l){this.el=l,this.options={},this.plugins=[],this.responsive=!0,this.onDataSelect=new a.EventEmitter}return Object.defineProperty(l.prototype,"data",{get:function(){return this._data},set:function(l){this._data=l,this.reinit()},enumerable:!0,configurable:!0}),l.prototype.ngAfterViewInit=function(){this.initChart(),this.initialized=!0},l.prototype.onCanvasClick=function(l){if(this.chart){var n=this.chart.getElementAtEvent(l),t=this.chart.getDatasetAtEvent(l);n&&n[0]&&t&&this.onDataSelect.emit({originalEvent:l,element:n[0],dataset:t})}},l.prototype.initChart=function(){var l=this.options||{};l.responsive=this.responsive,l.responsive&&(this.height||this.width)&&(l.maintainAspectRatio=!1),this.chart=new Chart(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})},l.prototype.getCanvas=function(){return this.el.nativeElement.children[0].children[0]},l.prototype.getBase64Image=function(){return this.chart.toBase64Image()},l.prototype.generateLegend=function(){if(this.chart)return this.chart.generateLegend()},l.prototype.refresh=function(){this.chart&&this.chart.update()},l.prototype.reinit=function(){this.chart&&(this.chart.destroy(),this.initChart())},l.prototype.ngOnDestroy=function(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)},e([a.Input(),u("design:type",String)],l.prototype,"type",void 0),e([a.Input(),u("design:type",Object)],l.prototype,"options",void 0),e([a.Input(),u("design:type",Array)],l.prototype,"plugins",void 0),e([a.Input(),u("design:type",String)],l.prototype,"width",void 0),e([a.Input(),u("design:type",String)],l.prototype,"height",void 0),e([a.Input(),u("design:type",Boolean)],l.prototype,"responsive",void 0),e([a.Output(),u("design:type",a.EventEmitter)],l.prototype,"onDataSelect",void 0),e([a.Input(),u("design:type",Object),u("design:paramtypes",[Object])],l.prototype,"data",null),e([a.Component({selector:"p-chart",template:'\n        <div style="position:relative" [style.width]="responsive && !width ? null : width" [style.height]="responsive && !height ? null : height">\n            <canvas [attr.width]="responsive && !width ? null : width" [attr.height]="responsive && !height ? null : height" (click)="onCanvasClick($event)"></canvas>\n        </div>\n    '})],l)}();n.UIChart=o,n.ChartModule=function(){return e([a.NgModule({imports:[i.CommonModule],exports:[o],declarations:[o]})],function(){})}()},jONW:function(l,n,t){"use strict";t.d(n,"a",function(){return r});var e=t("CcnG"),u=t("ZYCi"),a=t("FgYR"),i=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function o(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e["\u0275did"](1,212992,null,0,u.p,[u.b,e.ViewContainerRef,e.ComponentFactoryResolver,[8,null],e.ChangeDetectorRef],null,null)],function(l,n){l(n,1,0)},null)}function s(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-dashboard-client",[],null,null,null,o,i)),e["\u0275did"](1,49152,null,0,a.a,[],null,null)],null,null)}var r=e["\u0275ccf"]("app-dashboard-client",a.a,s,{},{},[])},"o+xu":function(l,n,t){"use strict";t.d(n,"a",function(){return u});var e=t("gIcY"),u=(t("24Yq"),t("Ge/P"),function(){function l(l,n,t,u,a){var i=this;this.formBuilder=l,this.activatedRoute=n,this.dashboardService=t,this.messageService=u,this.router=a,this.loading=!0,this.campaignForm=this.formBuilder.group({campaign_type:[null,e.Validators.compose([e.Validators.required])],campaign_title:[null,e.Validators.compose([e.Validators.required])],customer_id:[null,e.Validators.compose([e.Validators.required])],campaign_status:[null,e.Validators.compose([e.Validators.required])],payment_type:[null,e.Validators.compose([e.Validators.required])],subscription_status:[null,e.Validators.compose([e.Validators.required])],manager_id:[null,e.Validators.compose([e.Validators.required])],admin_comment:[null]}),this.paymentTypeList=[{value:"invoice",label:"Invoice"},{value:"credit_card",label:"Credit card"}],this.campaignTypeList=[{value:"facebook",label:"Facebook ads"},{value:"google",label:"Google ads"},{value:"call_rails",label:"Call Rail ads"}],this.subscriptionsList=[{value:"0",label:"Active"},{value:"1",label:"Disabled"}],this.activatedRoute.paramMap.subscribe(function(l){i.campaignId=l.get("campaignId")})}return l.prototype.ngOnInit=function(){this.getCampaign()},l.prototype.createUpdateCampaign=function(){var l=this;this.campaignForm.value.campaign_status="Active"===this.campaignForm.value.campaign_status?"1":"Suspended"===this.campaignForm.value.campaign_status?"2":"3",this.dashboardService.updateCampaign(this.campaignForm.value,this.campaignId).subscribe(function(n){l.router.navigate(["/dashboard"]),l.messageService.add({severity:"success",summary:n.message,closable:!0})})},l.prototype.getCampaign=function(){var l=this;this.campaignId&&this.dashboardService.getCampaign(this.campaignId).subscribe(function(n){n.data.campaign_status=n.data.campaign_status.toString(),n.data.subscription_status=n.data.subscription_status.toString(),n.data.campaign_status="1"===n.data.campaign_status?"Active":"2"===n.data.campaign_status?"Suspended":"Cancelled","standard"===n.data.payment_type&&(n.data.payment_type="invoice"),"standard"===n.data.campaign_type&&(n.data.campaign_type="google"),l.campaignForm.patchValue(n.data),l.campaign=n.data,l.loading=!1})},l}())},qviu:function(l,n,t){"use strict";t.d(n,"a",function(){return e}),t("f4AX");var e=function(){function l(l){this.userService=l,this.user=this.userService.user}return l.prototype.ngOnInit=function(){},l}()}}]);